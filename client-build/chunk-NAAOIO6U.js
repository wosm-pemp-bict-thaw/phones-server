import{l as O,n as j,o as M}from"./chunk-YCRJ3WEA.js";import{Ba as i,Ca as _,Cb as C,Ia as B,Kb as E,Lb as D,Mb as F,Nb as L,T as N,Ua as h,Vb as P,Wa as d,Wb as w,Z as I,_ as T,_a as c,cb as a,db as s,eb as y,hb as k,jb as b,kb as v,lb as o,mb as g,nb as m,tb as S,ub as l,vb as u}from"./chunk-DP7ZZSQF.js";var $=(n,t)=>({"bg-success":n,"bg-danger":t}),q=(n,t)=>({"btn-success":n,"btn-danger":t});function z(n,t){if(n&1&&(a(0,"span"),o(1),s()),n&2){let e=v();i(),m(" ",e.sortDirection()==="asc"?"\u25B2":"\u25BC"," ")}}function A(n,t){if(n&1&&(a(0,"span"),o(1),s()),n&2){let e=v();i(),m(" ",e.sortDirection()==="asc"?"\u25B2":"\u25BC"," ")}}function G(n,t){if(n&1&&(a(0,"span"),o(1),s()),n&2){let e=v();i(),m(" ",e.sortDirection()==="asc"?"\u25B2":"\u25BC"," ")}}function H(n,t){if(n&1){let e=k();a(0,"tr")(1,"td"),o(2),s(),a(3,"td"),o(4),s(),a(5,"td"),o(6),s(),a(7,"td")(8,"span",4),o(9),s()(),a(10,"td")(11,"button",5),b("click",function(){let p=I(e).$implicit,f=v();return T(f.toggleStatus(p))}),o(12),l(13,"translate"),l(14,"translate"),s()()()}if(n&2){let e=t.$implicit;i(2),g(e.id),i(2),g(e.number),i(2),g(e.messages),i(2),c("ngClass",S(11,$,e.status==="active",e.status==="inactive")),i(),m(" ",e.status," "),i(2),c("ngClass",S(14,q,e.status==="inactive",e.status==="active")),i(),m(" ",e.status==="active"?u(13,7,"dashboard.numbers_data.inactive"):u(14,9,"dashboard.numbers_data.active")," ")}}var V=class n{constructor(t,e,r){this.toastr=t;this.translate=e;this.numberService=r}themeService=N(M);numbers;sortColumn=h("");sortDirection=h("asc");sortedNumbers=C(()=>{let t=this.sortColumn(),e=this.sortDirection(),r=this.filteredNumbers();return t?[...r].sort((f,x)=>f[t]<x[t]?e==="asc"?-1:1:f[t]>x[t]?e==="asc"?1:-1:0):r});ngOnInit(){this.numbers=this.numberService.numbers}currentFilter;filteredNumbers=C(()=>{let t=this.currentFilter(),e=this.numbers();return t==="all"?e:e.filter(r=>r.status===t)});toggleStatus(t){this.numberService.toggleStatus(t);let e=this.translate.translate("dashboard.ui.toast.success"),r=this.translate.translate("dashboard.ui.toast.statusChanged");this.toastr.success(r,e,{timeOut:3e3})}setSort(t){this.sortColumn()===t?this.sortDirection.set(this.sortDirection()==="asc"?"desc":"asc"):(this.sortColumn.set(t),this.sortDirection.set("asc"))}trackByNumber(t,e){return e.id}static \u0275fac=function(e){return new(e||n)(_(O),_(P),_(j))};static \u0275cmp=B({type:n,selectors:[["app-number-list"]],inputs:{currentFilter:"currentFilter"},decls:21,vars:17,consts:[[1,"table","table-responsive","table-hover","shadow-sm","rounded"],[1,"sortable",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"badge",3,"ngClass"],[1,"btn","btn-sm",3,"click","ngClass"]],template:function(e,r){e&1&&(a(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),b("click",function(){return r.setSort("id")}),o(4),l(5,"translate"),d(6,z,2,1,"span",2),s(),a(7,"th",1),b("click",function(){return r.setSort("number")}),o(8),l(9,"translate"),d(10,A,2,1,"span",2),s(),a(11,"th",1),b("click",function(){return r.setSort("messages")}),o(12),l(13,"translate"),d(14,G,2,1,"span",2),s(),a(15,"th"),o(16),l(17,"translate"),s(),y(18,"th"),s()(),a(19,"tbody"),d(20,H,15,17,"tr",3),s()()),e&2&&(i(4),m(" ",u(5,9,"dashboard.numbers_data.id")," "),i(2),c("ngIf",r.sortColumn()==="id"),i(2),m(" ",u(9,11,"dashboard.numbers_data.number")," "),i(2),c("ngIf",r.sortColumn()==="number"),i(2),m(" ",u(13,13,"dashboard.numbers_data.messages")," "),i(2),c("ngIf",r.sortColumn()==="messages"),i(2),m(" ",u(17,15,"dashboard.numbers_data.status")," "),i(4),c("ngForOf",r.sortedNumbers())("ngForTrackBy",r.trackByNumber))},dependencies:[L,E,D,F,w],encapsulation:2,changeDetection:0})};export{V as NumberListComponent};
